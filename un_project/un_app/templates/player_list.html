{% extends 'financial_base.html' %}

{% block title %}
    Player List
{% endblock %}

{% block content %}
    <h1>United Nations Records: Player List</h1>
    <table>
        <thead>
            <tr>
                <th>Username</th>
                <th>Nation</th>
                <th>Number of Buildings Built</th>
                <th>UN Ambassador</th>
            </tr>
        </thead>
        <tbody>
            {% if players %}
                {% for player in players %}
                <tr>
                    <td>{{ player.username }}</td>
                    <td>{{ player.nation.name }}</td>
                    <td>{{ player.num_buildings_built }}</td> <!-- Call the method here -->
                    <td>
                        {% if player.un_rep %}
                            âœ“
                        {% else %}
                            <!-- Leave blank if null -->
                        {% endif %}
                    </td>
                </tr>
                {% endfor %}
            {% else %}
                <tr>
                    <td colspan="4">No data available.</td> <!-- Changed colspan to 4 to match header count -->
                </tr>
            {% endif %}
        </tbody>
    </table>
{% endblock %}
